<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preload" href="./styles/normalize.css" as="styles">
    <link rel="stylesheet" href="./styles/normalize.css">
    <link rel="preload" href="./styles/punto.css" as="styles">
    <link rel="stylesheet" href="./styles/punto.css">
    <title>Venta</title>
</head>
<body>
    <div class="header1"></div>
    <header>
        <div class="contenedor1">
            <a href="" class="menu-a">
                <img class="menu" src="./styles/img/menu_p.png" alt="menu">
            </a>
            <h1>Welcome, <span id="username"></span>!</h1>
        </div>
        <nav class="nav">
            <a class="close-menu"><img class="cerrar" src="./styles/img/x.png" alt=""></a>
            <ul class="nav-list">
                <li><a href="/index">Inicio</a></li>
                <li><a href="#">Acerca de</a></li>
                <li><a href="#">Servicios</a></li>
                <li><a href="#">Contacto</a></li>
            </ul>
            <form action="/logout" method="GET">
                <button type="submit">Logout</button>
            </form>
        </nav>
    </header>
    <main>
        <div class="carro">
            <table class="table" id="carrito" border="2">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Cantidad</th>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="t-body">
                    <!-- Data will be inserted here -->
                </tbody>
            </table>
        </div>

        <form class="datos">
            <label>Total:</label>
            <p id="total">141</p>

            <label>Pago con:</label>
            <input class="text-input" type="text">

            <label>Cambio:</label>
            <p id="cambio">4$</p>

            <label>Fecha:</label>
            <p id="fecha">12/08/2024</p>

            <label>Cliente:</label>
            <input class="text-input" type="text">

            <label>Lo Atendio:</label>
            <p id="encargado">Eduardo</p>

            <button class="boton-ticket" type="submit">Generar Ticket</button>
        </form>

        <div class="menu-interactivo">
            <a href="#" class="a-menu" id="btn-alimentos">Alimentos</a>
            <a href="#" class="a-menu" id="btn-bebidas">Bebidas</a>
            <a href="#" class="a-menu">Snacks</a>
            <a href="#" class="a-menu">Frutas</a>
            <a href="#" class="a-menu">Otros</a>
        </div>

        <div class="menu-completo">
            <div class="alimentos-list" id="alimentos-list"></div>
            <div class="bebidas-list" id="bebidas-list"></div>
        </div>
    </main>
    <script>
        fetch('/user-info')
            .then(response => response.json())
            .then(data => {
                if (data.name) {
                    document.getElementById('username').textContent = data.name;
                } else {
                    document.getElementById('username').textContent = 'Guest';
                }
            })
            .catch(error => {
                console.error('Error fetching user info:', error);
                document.getElementById('username').textContent = 'Guest';
            });
    </script>
    <script src="./js/menus.js"></script>
    <script src="./js/carrito.js"></script>
    <script src="./js/main.js"></script> <!-- Asegúrate de que este script está al final -->
</body>
</html>
